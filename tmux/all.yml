name: "Hot reload"
root: .

pre_window:
  - source ./tmux/activate_venv.sh

windows:
  - build:
      layout: even-horizontal
      panes:
        - static-server:
          - cd packages/web
          - yarn
          - yarn run watch:server
        - static-client:
          - cd packages/web
          - yarn
          - yarn run watch:client
        - web:
          - cd packages/web
          - yarn
          - yarn start
  - serve:
      layout: even-horizontal
      panes:
        - ssr:
          - cd packages/ssr-server
          - yarn
          - yarn start
        - api:
          - cd packages/api
          - yarn start
