{"paths": {"/blog/posts": {"get": {"description": "Return all blog posts based on the query", "parameters": [{"in": "query", "name": "page", "required": true, "schema": {"type": "number"}, "description": "The page to load"}, {"in": "query", "name": "limit", "required": true, "schema": {"type": "number"}, "description": "How many posts to load"}, {"in": "query", "name": "search", "required": true, "schema": {"type": "string"}, "description": "A string to be searched"}, {"in": "query", "name": "preview", "required": true, "schema": {"type": "boolean"}, "description": "Whether or not to only return preview data"}], "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["posts", "numPages", "page"], "properties": {"posts": {"type": "array", "items": {"$ref": "#/components/schemas/Post"}}, "numPages": {"type": "number"}, "page": {"type": "number"}}}}}}}}}, "/blog/posts/{id}": {"get": {"description": "Return a single blog post", "parameters": [{"in": "path", "name": "id", "required": true, "schema": {"type": "string"}, "description": "The post id"}], "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["post"], "properties": {"post": {"$ref": "#/components/schemas/Post"}}}}}}}}}, "/blog/tags": {"get": {"description": "A distinct view of all available tags", "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "properties": {"tags": {"type": "array", "items": {"type": "string"}}}}}}}}}}, "/admin/index/login": {"post": {"description": "Login with credentials", "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["username", "password"], "properties": {"username": {"type": "string"}, "password": {"type": "string"}}}}}}, "responses": {"200": {"description": "Return login details", "content": {"application/json": {"schema": {"type": "object", "required": ["user", "token"], "properties": {"user": {"type": "string"}, "token": {"type": "string"}}}}}}}}}, "/admin/index/changePassword": {"post": {"description": "Change login credentials", "requestBody": {"content": {"application/json": {"schema": {"type": "object", "required": ["password"], "properties": {"password": {"type": "string"}}}}}}, "responses": {"200": {"content": {"application/json": {"schema": {"type": "object"}}}}}}}, "/admin/blog/posts": {"get": {"description": "Receive all drafted posts", "parameters": [{"in": "query", "name": "page", "schema": {"type": "number"}, "description": "The page to load"}, {"in": "query", "name": "limit", "schema": {"type": "number"}, "description": "Maximum amount of posts to load"}], "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["posts", "numPages", "page"], "properties": {"posts": {"type": "array", "items": {"$ref": "#/components/schemas/Post"}}, "numPages": {"type": "number"}, "page": {"type": "number"}}}}}}}}, "post": {"description": "Create a new post", "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["post"], "properties": {"post": {"type": "object", "required": ["_id", "draft", "createdAt"], "properties": {"_id": {"type": "string"}, "draft": {"type": "object"}, "createdAt": {"type": "number"}}}}}}}}}}}, "/admin/blog/posts/{id}/edit": {"post": {"description": "Update a single post", "parameters": [{"in": "path", "name": "id", "required": true, "schema": {"type": "string"}, "description": "The post id"}], "requestBody": {"content": {"application/json": {"schema": {"type": "object", "properties": {"title": {"type": "string"}, "text": {"type": "string"}, "html": {"type": "string"}, "image": {"type": "string"}, "tags": {"type": "array", "items": {"type": "string"}}}}}}}, "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["post"], "properties": {"post": {"type": "object", "required": ["post"], "properties": {"post": {"$ref": "#/components/schemas/Post"}}}}}}}}}}, "delete": {"description": "Delete a single blog post", "parameters": [{"in": "path", "name": "id", "required": true, "schema": {"type": "string"}, "description": "The post id"}], "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["post"], "properties": {"post": {"$ref": "#/components/schemas/Post"}}}}}}}}}, "/admin/blog/posts/{id}/draft": {"delete": {"description": "Delete a single blog post draft", "parameters": [{"in": "path", "name": "id", "required": true, "schema": {"type": "string"}, "description": "The post id"}]}}, "/admin/blog/posts/{id}/publish": {"post": {"description": "Publishes the current draft of a post", "parameters": [{"in": "path", "name": "id", "required": true, "schema": {"type": "string"}, "description": "The post id"}], "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["post"], "properties": {"post": {"$ref": "#/components/schemas/Post"}}}}}}}}}, "/admin/blog/posts/{id}/unpublish": {"delete": {"description": "Removes the current published version of a post and moves it to draft.", "parameters": [{"in": "path", "name": "id", "required": true, "schema": {"type": "string"}, "description": "The post id"}], "responses": {"200": {"content": {"application/json": {"schema": {"type": "object", "required": ["post"], "properties": {"post": {"$ref": "#/components/schemas/Post"}}}}}}}}}, "/admin/blog/posts/{id}/upload": {"post": {"description": "Upload a new file", "parameters": [{"in": "path", "name": "id", "required": true, "schema": {"type": "string"}, "description": "The post id"}, {"in": "query", "name": "ext", "schema": {"type": "string"}, "description": "Force the file extension"}, {"in": "query", "name": "max_size", "schema": {"type": "string"}, "description": "Maximum width or height"}, {"in": "query", "name": "quality", "schema": {"type": "string"}, "description": "Quality of the image (1-100)"}], "requestBody": {"content": {"multipart/form-data": {"schema": {"type": "object", "properties": {"data": {"type": "string", "format": "binary"}}}}}}, "responses": {"200": {"description": "Return login details", "content": {"application/json": {"schema": {"type": "object", "required": ["src", "fileName", "fileSize"], "properties": {"src": {"type": "string"}, "fileName": {"type": "string"}, "fileSize": {"type": "number"}}}}}}}}}, "/rss": {"get": {"description": "Return a single blog post", "parameters": [{"in": "path", "name": "tag", "required": true, "schema": {"type": "string"}, "description": "The current feed tag"}]}}, "/rss.xml": {"get": {"description": "Return a single blog post", "parameters": [{"in": "path", "name": "tag", "required": true, "schema": {"type": "string"}, "description": "The current feed tag"}]}}, "/rss/{tag}": {"get": {"description": "Return a single blog post", "parameters": [{"in": "path", "name": "tag", "required": true, "schema": {"type": "string"}, "description": "The current feed tag"}]}}, "/rss/{tag}.xml": {"get": {"description": "Return a single blog post", "parameters": [{"in": "path", "name": "tag", "required": true, "schema": {"type": "string"}, "description": "The current feed tag"}]}}}, "info": {"title": "Blogapi Spec", "version": "1.0.0"}, "openapi": "3.0.2", "components": {"schemas": {"PostContent": {"properties": {"html": {"type": "string"}, "publishedAt": {"type": "number"}, "title": {"type": "string"}, "text": {"type": "string"}, "tags": {"type": "array", "items": {"type": "string"}}, "image": {"type": "string"}, "version": {"type": "number"}, "summary": {"type": "string"}}, "required": ["html", "publishedAt", "title", "text", "tags", "image", "version", "summary"]}, "Post": {"properties": {"draft": {"$ref": "#/components/schemas/PostContent"}, "_id": {"type": "string"}, "createdAt": {"type": "number"}, "published": {"$ref": "#/components/schemas/PostContent"}}, "required": ["draft", "_id", "createdAt", "published"]}}}}